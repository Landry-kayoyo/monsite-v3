{% extends 'pages/base.html' %}
{% load static %}
{% block title %}{{ article.titre }} | Blog Expert{% endblock %}
{% block content %}
<div class="article-detail">
  <!-- Hero Section with Parallax Effect -->
  <section class="article-hero bg-dark text-white position-relative overflow-hidden">
    {% if article.image %}
    <div class="parallax-bg position-absolute w-100 h-100"
         style="background-image: url('{{ article.image.url }}');"></div>
    <div class="parallax-overlay position-absolute w-100 h-100"></div>
    {% endif %}
   
    <div class="container position-relative py-5" style="z-index: 2;">
      <div class="row min-vh-40 align-items-center">
        <div class="col-lg-8">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb breadcrumb-light">
              <li class="breadcrumb-item"><a href="{% url 'home' %}">Accueil</a></li>
              <li class="breadcrumb-item"><a href="{% url 'blog' %}">Blog</a></li>
              <li class="breadcrumb-item active" aria-current="page">{{ article.titre|truncatechars:25 }}</li>
            </ol>
          </nav>
         
          <div class="article-header-content mt-4">
            {% if article.categorie %}
            <span class="badge bg-primary rounded-pill px-3 py-2 mb-3 d-inline-block">
              {{ article.categorie.nom }}
            </span>
            {% endif %}
            <h1 class="display-4 fw-bold mb-4">{{ article.titre }}</h1>
           
            <div class="article-meta d-flex flex-wrap align-items-center gap-4">
              <div class="d-flex align-items-center">
                {% if article.auteur.profile.image %}
                <img src="{{ article.auteur.profile.image.url }}"
                     alt="{{ article.auteur.username }}"
                     class="rounded-circle me-3"
                     width="56"
                     height="56">
                {% else %}
                <div class="rounded-circle bg-secondary bg-opacity-25 d-flex align-items-center justify-content-center me-3"
                     style="width: 56px; height: 56px;">
                  <i class="bi bi-person text-white fs-4"></i>
                </div>
                {% endif %}
                <div>
                  <span class="d-block fw-semibold">{{ article.auteur }}</span>
                  <small class="text-white-50">{{ article.date_pub|date:"d F Y" }}</small>
                </div>
              </div>
    
                <div class="d-flex align-items-center gap-2">
                  <i class="bi bi-eye"></i>
                  <span>{{ article.nombre_vues }} vue{{ article.nombre_vues|pluralize }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- Floating Progress Bar -->
  <div class="reading-progress-container">
    <div class="reading-progress-bar" id="readingProgress"></div>
  </div>
  <!-- Article Content -->
  <div class="container py-5">
    <div class="row justify-content-center">
      <main class="col-lg-8">
        <article class="article-content">
          <!-- Table of Contents (Auto-generated) -->
          <div class="toc-container mb-5 d-none d-lg-block">
            <div class="toc-card card border-0 shadow-sm sticky-top">
              <div class="card-header bg-light">
                <h6 class="fw-bold mb-0">Sommaire</h6>
              </div>
              <div class="card-body py-3" id="tocContent">
                <!-- Generated by JavaScript -->
              </div>
            </div>
          </div>
          <!-- Article Body with Enhanced Formatting -->
          <div class="article-body position-relative">
            <!-- Premium Content Badge -->
            {% if article.is_premium %}
            <div class="premium-badge position-absolute end-0 top-0">
              <span class="badge bg-gold text-dark px-3 py-2">
                <i class="bi bi-star-fill me-1"></i> Premium
              </span>
            </div>
            {% endif %}
           
            {{ article.contenu|safe }}
           
            <!-- Content Upgrade Offer -->
            <div class="content-upgrade card border-0 bg-light mt-5 mb-4 overflow-hidden">
              <div class="row g-0">
                <div class="col-md-4 d-none d-md-block">
                  <img src="{% static 'images/profil.jpg' %}"
                       alt="Bonus offert"
                       class="img-fluid h-100 object-fit-cover">
                </div>
                <div class="col-md-8">
                  <div class="card-body p-4">
                    <h5 class="card-title fw-bold">Ressource gratuite</h5>
                    <p class="card-text">Téléchargez notre guide complet pour aller plus loin sur ce sujet.</p>
                    <form class="mt-3">
                      <div class="input-group mb-3">
                        <input type="email" class="form-control" placeholder="Votre email" required>
                        <button class="btn btn-primary" type="submit">Télécharger</button>
                      </div>
                      <small class="text-muted">Nous respectons votre vie privée. Désabonnement à tout moment.</small>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Tags with Related Topics -->
          {% if article.tags.all %}
          <div class="article-tags mb-5">
            <div class="d-flex align-items-center flex-wrap gap-3">
              <h6 class="fw-semibold mb-0">Mots-clés :</h6>
              <div class="d-flex flex-wrap gap-2">
                {% for tag in article.tags.all %}
                <a href="{% url 'blog' %}?tag={{ tag.slug }}"
                   class="badge bg-light text-dark text-decoration-none hover-scale">
                  #{{ tag.nom }}
                </a>
                {% endfor %}
              </div>
            </div>
          </div>
          {% endif %}
          <!-- Enhanced Share Buttons with Analytics -->
          <div class="article-share mb-5">
            <div class="d-flex justify-content-between align-items-center flex-wrap gap-3 mb-3">
              <h6 class="fw-semibold mb-0">Partager cet article :</h6>
              <small class="text-muted share-count">
                <span id="shareCount">0</span> partage{{ article.partages|pluralize }}
              </small>
            </div>
           
            <div class="d-flex flex-wrap gap-2 share-buttons">
              <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri }}"
                 class="btn btn-sm btn-facebook d-flex align-items-center share-btn"
                 data-platform="facebook"
                 target="_blank">
                <i class="bi bi-facebook me-2"></i> Facebook
              </a>
              <a href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri }}&text={{ article.titre }}"
                 class="btn btn-sm btn-twitter d-flex align-items-center share-btn"
                 data-platform="twitter"
                 target="_blank">
                <i class="bi bi-twitter-x me-2"></i> Twitter
              </a>
              <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ request.build_absolute_uri }}&title={{ article.titre }}"
                 class="btn btn-sm btn-linkedin d-flex align-items-center share-btn"
                 data-platform="linkedin"
                 target="_blank">
                <i class="bi bi-linkedin me-2"></i> LinkedIn
              </a>
              <a href="https://api.whatsapp.com/send?text={{ article.titre }}%20{{ request.build_absolute_uri }}"
                 class="btn btn-sm btn-whatsapp d-flex align-items-center share-btn"
                 data-platform="whatsapp"
                 target="_blank">
                <i class="bi bi-whatsapp me-2"></i> WhatsApp
              </a>
              <button class="btn btn-sm btn-dark d-flex align-items-center copy-link-btn hover-scale"
                      data-url="{{ request.build_absolute_uri }}"
                      title="Copier le lien">
                <i class="bi bi-link-45deg me-2"></i> Copier
              </button>
            </div>
          </div>
          <!-- Author Box with Social Proof -->
          <div class="article-author card border-0 shadow-sm mb-5 overflow-hidden hover-scale">
            <div class="row g-0">
              <div class="col-md-3 text-center bg-light p-4">
                {% if article.auteur.profile.image %}
                <img src="{{ article.auteur.profile.image.url }}"
                     alt="{{ article.auteur.username }}"
                     class="rounded-circle img-thumbnail w-100 mb-3"
                     style="max-width: 120px;">
                {% else %}
                <div class="rounded-circle bg-secondary bg-opacity-10 d-flex align-items-center justify-content-center mx-auto mb-3"
                     style="width: 120px; height: 120px;">
                  <i class="bi bi-person text-secondary fs-1"></i>
                </div>
                {% endif %}
               
                <div class="author-social d-flex justify-content-center gap-3">
                  {% if article.auteur.profile.twitter_url %}
                  <a href="{{ article.auteur.profile.twitter_url }}" class="text-decoration-none" target="_blank">
                    <i class="bi bi-twitter-x fs-5"></i>
                  </a>
                  {% endif %}
                  {% if article.auteur.profile.linkedin_url %}
                  <a href="{{ article.auteur.profile.linkedin_url }}" class="text-decoration-none" target="_blank">
                    <i class="bi bi-linkedin fs-5"></i>
                  </a>
                  {% endif %}
                  {% if article.auteur.profile.website_url %}
                  <a href="{{ article.auteur.profile.website_url }}" class="text-decoration-none" target="_blank">
                    <i class="bi bi-globe fs-5"></i>
                  </a>
                  {% endif %}
                </div>
              </div>
              <div class="col-md-9">
                <div class="card-body p-4">
                  <div class="d-flex justify-content-between align-items-start">
                    <div>
                      <h5 class="card-title fw-bold mb-1">À propos de l'auteur</h5>
                      <h6 class="text-primary mb-3">{{ article.auteur }}</h6>
                    </div>
                    <span class="badge bg-primary bg-opacity-10 text-primary">
                      Expert confirmé
                    </span>
                  </div>
                 
                </div>
              </div>
            </div>
          </div>
          <!-- Newsletter Subscription -->
          <div class="newsletter-card card bg-gradient-primary text-white border-0 shadow-lg mb-5 overflow-hidden">
            <div class="card-body p-4 p-lg-5">
              <div class="row align-items-center">
                <div class="col-lg-8 mb-4 mb-lg-0">
                  <h5 class="card-title fw-bold mb-3">Restez informé</h5>
                  <p class="card-text mb-0">
                    Recevez nos derniers articles et ressources directement dans votre boîte mail.
                    <span class="d-block d-lg-inline">Pas de spam, désabonnement à tout moment.</span>
                  </p>
                </div>
                <div class="col-lg-4">
                  <form class="newsletter-form">
                    <div class="input-group">
                      <input type="email" class="form-control" placeholder="Votre email" required>
                      <button class="btn btn-light text-dark" type="submit">
                        <i class="bi bi-envelope-arrow-up"></i>
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
          <!-- Related Articles Carousel -->
          {% if articles_similaires %}
          <div class="related-articles mb-5">
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h5 class="fw-bold mb-0">Articles similaires</h5>
              <a href="{% url 'blog' %}" class="btn btn-sm btn-outline-primary">
                Voir tout <i class="bi bi-arrow-right ms-1"></i>
              </a>
            </div>
           
            <div class="swiper related-articles-slider">
              <div class="swiper-wrapper">
                {% for article in articles_similaires %}
                <div class="swiper-slide">
                  <div class="card border-0 shadow-sm h-100">
                    <div class="card-img-top overflow-hidden" style="height: 180px;">
                      <img src="{{ article.image.url }}"
                           class="img-fluid w-100 h-100 object-fit-cover"
                           alt="{{ article.titre }}"
                           loading="lazy">
                      <div class="card-img-overlay d-flex align-items-end p-0">
                        <span class="badge bg-primary mb-2 ms-2">{{ article.categorie.nom }}</span>
                      </div>
                    </div>
                    <div class="card-body">
                      <h6 class="card-title fw-bold">{{ article.titre|truncatechars:50 }}</h6>
                      <p class="card-text text-muted small">{{ article.contenu|striptags|truncatewords:15 }}</p>
                    </div>
                    <div class="card-footer bg-transparent border-0 pt-0">
                      <a href="{{ article.get_absolute_url }}" class="btn btn-sm btn-outline-primary stretched-link">
                        Lire l'article
                      </a>
                    </div>
                  </div>
                </div>
                {% endfor %}
              </div>
              <div class="swiper-button-next"></div>
              <div class="swiper-button-prev"></div>
            </div>
          </div>
          {% endif %}
          <!-- Enhanced Comments Section -->
          <div class="article-comments">
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h5 class="fw-bold mb-0">
                <i class="bi bi-chat-square-text me-2"></i> Commentaires
                <span class="badge bg-primary bg-opacity-10 text-primary ms-2">3 nouveaux</span>
              </h5>
              <button class="btn btn-sm btn-primary"
                      data-bs-toggle="collapse"
                      data-bs-target="#commentForm"
                      aria-expanded="false"
                      aria-controls="commentForm">
                <i class="bi bi-pencil-square me-1"></i> Ajouter un commentaire
              </button>
            </div>
            <!-- Comment Form -->
            <div class="collapse mb-4" id="commentForm">
              <div class="card border-0 shadow-sm">
                <div class="card-body p-4">
                  <form id="commentForm">
                    <div class="row g-3">
                      <div class="col-md-6">
                        <label for="commentName" class="form-label">Nom *</label>
                        <input type="text" class="form-control" id="commentName" required>
                      </div>
                      <div class="col-md-6">
                        <label for="commentEmail" class="form-label">Email *</label>
                        <input type="email" class="form-control" id="commentEmail" required>
                      </div>
                      <div class="col-12">
                        <label for="commentText" class="form-label">Votre commentaire *</label>
                        <textarea class="form-control" id="commentText" rows="4" required></textarea>
                      </div>
                      <div class="col-12">
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" id="commentNotify">
                          <label class="form-check-label small text-muted" for="commentNotify">
                            Me notifier des réponses par email
                          </label>
                        </div>
                      </div>
                      <div class="col-12">
                        <button type="submit" class="btn btn-primary">
                          <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                          Publier le commentaire
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
            <!-- Comments List -->
            <div class="card border-0 shadow-sm">
              <div class="card-body p-0">
                <!-- Comment Item -->
                <div class="comment-item border-bottom p-4">
                  <div class="d-flex">
                    <div class="flex-shrink-0 me-3">
                      <img src="{% static 'images/profil.jpg' %}"
                           alt="Avatar"
                           class="rounded-circle"
                           width="48"
                           height="48">
                    </div>
                    <div class="flex-grow-1">
                      <div class="d-flex justify-content-between align-items-center mb-2">
                        <h6 class="fw-bold mb-0">John Mumba</h6>
                        <small class="text-muted">Il y a 2 jours</small>
                      </div>
                      <p class="mb-2">Excellent article qui m'a beaucoup aidé. Merci pour ces conseils pratiques !</p>
                      <div class="d-flex align-items-center gap-3">
                        <button class="btn btn-sm btn-link text-decoration-none p-0">
                          <i class="bi bi-hand-thumbs-up me-1"></i> 12
                        </button>
                        <button class="btn btn-sm btn-link text-decoration-none p-0">
                          <i class="bi bi-reply me-1"></i> Répondre
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
               
                <!-- Comment Item -->
                <div class="comment-item border-bottom p-4 bg-light">
                  <div class="d-flex">
                    <div class="flex-shrink-0 me-3">
                      <img src="{% static 'images/profil.jpg' %}"
                           alt="Avatar"
                           class="rounded-circle"
                           width="48"
                           height="48">
                    </div>
                    <div class="flex-grow-1">
                      <div class="d-flex justify-content-between align-items-center mb-2">
                        <h6 class="fw-bold mb-0">Landry Kayoyo</h6>
                        <small class="text-muted">Il y a 1 semaine</small>
                      </div>
                      <p class="mb-2">J'aurais aimé plus d'exemples concrets sur la mise en pratique.</p>
                      <div class="d-flex align-items-center gap-3">
                        <button class="btn btn-sm btn-link text-decoration-none p-0">
                          <i class="bi bi-hand-thumbs-up me-1"></i> 5
                        </button>
                        <button class="btn btn-sm btn-link text-decoration-none p-0">
                          <i class="bi bi-reply me-1"></i> Répondre
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
               
                <!-- Load More Comments -->
                <div class="text-center p-4">
                  <button class="btn btn-outline-primary">
                    <i class="bi bi-arrow-down-circle me-1"></i> Charger plus de commentaires
                  </button>
                </div>
              </div>
            </div>
          </div>
        </article>
      </main>
    </div>
  </div>
</div>
<!-- Floating Action Button -->
<div class="fab-container">
  <button class="fab-btn btn btn-primary rounded-circle shadow-lg" id="fabButton">
    <i class="bi bi-share"></i>
  </button>
  <div class="fab-options">
    <a href="#" class="fab-option btn btn-facebook rounded-circle" data-platform="facebook">
      <i class="bi bi-facebook"></i>
    </a>
    <a href="#" class="fab-option btn btn-twitter rounded-circle" data-platform="twitter">
      <i class="bi bi-twitter-x"></i>
    </a>
    <a href="#" class="fab-option btn btn-linkedin rounded-circle" data-platform="linkedin">
      <i class="bi bi-linkedin"></i>
    </a>
    <button class="fab-option btn btn-dark rounded-circle copy-link-btn" data-url="{{ request.build_absolute_uri }}">
      <i class="bi bi-link-45deg"></i>
    </button>
  </div>
</div>
<style>
  /* Hero Section with Parallax */
  .article-hero {
    min-height: 60vh;
    display: flex;
    align-items: center;
    background-color: #212529;
  }
 
  .parallax-bg {
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    transform: translateZ(0);
    will-change: transform;
  }
 
  .parallax-overlay {
    background: linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.4) 100%);
  }
 
  .breadcrumb-light .breadcrumb-item + .breadcrumb-item::before {
    color: rgba(255,255,255,0.6);
  }
 
  .breadcrumb-light .breadcrumb-item a {
    color: rgba(255,255,255,0.8);
    text-decoration: none;
  }
 
  .breadcrumb-light .breadcrumb-item.active {
    color: rgba(255,255,255,0.6);
  }
 
  /* Reading Progress Bar */
  .reading-progress-container {
    height: 4px;
    background-color: #f0f0f0;
    position: sticky;
    top: 0;
    z-index: 1030;
  }
 
  .reading-progress-bar {
    height: 100%;
    background: linear-gradient(90deg, #4e54c8 0%, #8f94fb 100%);
    width: 0%;
    transition: width 0.1s ease;
  }
 
  /* Table of Contents */
  .toc-container {
    position: absolute;
    left: -280px;
    width: 250px;
    top: 20px;
  }
 
  .toc-card {
    top: 100px;
  }
 
  .toc-card .card-body {
    max-height: calc(100vh - 200px);
    overflow-y: auto;
  }
 
  /* Premium Content */
  .bg-gold {
    background: linear-gradient(135deg, #FFD700 0%, #D4AF37 100%);
  }
 
  /* Content Upgrade */
  .content-upgrade {
    border-left: 4px solid var(--bs-primary);
  }
 
  /* Share Buttons */
  .btn-facebook {
    background-color: #3b5998;
    color: white;
  }
 
  .btn-twitter {
    background-color: #1DA1F2;
    color: white;
  }
 
  .btn-linkedin {
    background-color: #0077B5;
    color: white;
  }
 
  .btn-whatsapp {
    background-color: #25D366;
    color: white;
  }
 
  /* Newsletter Card */
  .bg-gradient-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }
 
  /* Related Articles Slider */
  .related-articles-slider {
    padding-bottom: 30px;
  }
 
  .swiper-button-next, .swiper-button-prev {
    color: var(--bs-primary);
    background-color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  }
 
  .swiper-button-next::after, .swiper-button-prev::after {
    font-size: 1rem;
  }
 
  /* Floating Action Button */
  .fab-container {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 1000;
  }
 
  .fab-btn {
    width: 56px;
    height: 56px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
    transition: all 0.3s ease;
  }
 
  .fab-options {
    position: absolute;
    bottom: 70px;
    right: 0;
    display: flex;
    flex-direction: column;
    gap: 10px;
    opacity: 0;
    visibility: hidden;
    transform: translateY(20px);
    transition: all 0.3s ease;
  }
 
  .fab-container.active .fab-options {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }
 
  .fab-option {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
  }
 
  /* Hover Effects */
  .hover-scale {
    transition: transform 0.3s ease;
  }
 
  .hover-scale:hover {
    transform: scale(1.03);
  }
 
  /* Responsive Adjustments */
  @media (max-width: 1199.98px) {
    .toc-container {
      position: static;
      width: 100%;
      margin-bottom: 2rem;
    }
   
    .toc-card {
      position: static !important;
    }
  }
 
  @media (max-width: 767.98px) {
    .article-hero {
      min-height: 50vh;
    }
   
    .article-header h1 {
      font-size: 2.2rem;
    }
   
    .content-upgrade .col-md-4 {
      display: none;
    }
   
    .content-upgrade .col-md-8 {
      padding: 1.5rem;
    }
   
    .newsletter-card .col-lg-8 {
      margin-bottom: 1.5rem;
    }
  }
 
  @media (max-width: 575.98px) {
    .article-hero {
      min-height: 60vh;
    }
   
    .article-header h1 {
      font-size: 1.8rem;
    }
   
    .article-meta {
      flex-direction: column;
      align-items: flex-start;
      gap: 1.5rem;
    }
   
    .vr {
      display: none !important;
    }
  }
</style>
<!-- Swiper JS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
<script>
  // Initialize Swiper for related articles
  const relatedSwiper = new Swiper('.related-articles-slider', {
    slidesPerView: 1,
    spaceBetween: 20,
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    breakpoints: {
      576: {
        slidesPerView: 2,
      },
      992: {
        slidesPerView: 3,
      }
    }
  });
 
  // Reading progress bar
  window.addEventListener('scroll', function() {
    const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    const scrolled = (winScroll / height) * 100;
    document.getElementById('readingProgress').style.width = scrolled + '%';
  });
 
  // Generate Table of Contents
  document.addEventListener('DOMContentLoaded', function() {
    const tocContent = document.getElementById('tocContent');
    const headings = document.querySelectorAll('.article-body h2, .article-body h3');
   
    if (headings.length > 0) {
      let tocHTML = '<ul class="list-unstyled">';
     
      headings.forEach((heading, index) => {
        const id = 'heading-' + index;
        heading.setAttribute('id', id);
       
        const level = heading.tagName.toLowerCase();
        const indent = level === 'h3' ? 'ps-3' : '';
       
        tocHTML += `
          <li class="${indent} mb-2">
            <a href="#${id}" class="text-decoration-none toc-link" data-toc="${id}">
              ${heading.textContent}
            </a>
          </li>
        `;
      });
     
      tocHTML += '</ul>';
      tocContent.innerHTML = tocHTML;
     
      // Smooth scroll for TOC links
      document.querySelectorAll('.toc-link').forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            window.scrollTo({
              top: target.offsetTop - 100,
              behavior: 'smooth'
            });
          }
        });
      });
    } else {
      tocContent.innerHTML = '<p class="text-muted small">Aucune section disponible</p>';
    }
  });
 
  // Track shares
  document.querySelectorAll('.share-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      const platform = this.getAttribute('data-platform');
      // Here you would typically send an AJAX request to track the share
      console.log(`Shared on ${platform}`);
     
      // Update share count
      const shareCount = document.getElementById('shareCount');
      shareCount.textContent = parseInt(shareCount.textContent) + 1;
    });
 
</script>
{% endblock %}
